<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Coco Querand√≠ - Comunidad Cann√°bica del Oeste</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ü¶â</text></svg>">
  <style>
    :root {
      /* Colores para modo claro */
      --bg-primary: #ffffff;
      --bg-primary-rgb: 255, 255, 255;
      --bg-nav-rgb: 255, 255, 255;
      --accent-light-rgb: 232, 245, 233;
      --line-color-rgb: 200, 230, 201;
      --bg-secondary: #f8f9fa;
      --bg-header: #ffffff;
      --bg-nav: #ffffff;
      --text-primary: #212529;
      --text-secondary: #495057;
      --text-light: #6c757d;
      --accent-color: #2e7d32;
      --accent-light: #e8f5e9;
      --border-color: #dee2e6;
      --card-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      --overlay: rgba(0, 0, 0, 0.5);
      --line-color: #c8e6c9;
      --submenu-bg: #ffffff;
    }

    .dark-mode {
      /* Colores para modo oscuro */
      --bg-primary: #121212;
      --bg-primary-rgb: 18, 18, 18;
      --bg-nav-rgb: 30, 30, 30;
      --accent-light-rgb: 27, 94, 32;
      --line-color-rgb: 46, 125, 50;
      --bg-secondary: #1e1e1e;
      --bg-header: #1e1e1e;
      --bg-nav: #1e1e1e;
      --text-primary: #e0e0e0;
      --text-secondary: #b0b0b0;
      --text-light: #8a8a8a;
      --accent-color: #4caf50;
      --accent-light: #1b5e20;
      --border-color: #333333;
      --card-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
      --overlay: rgba(0, 0, 0, 0.7);
      --line-color: #2e7d32;
      --submenu-bg: #1e1e1e;
    }

    body {
      margin: 0;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      line-height: 1.6;
      transition: background-color 0.3s, color 0.3s;
      background-image: 
        linear-gradient(90deg, var(--line-color) 1px, transparent 1px),
        linear-gradient(180deg, var(--line-color) 1px, transparent 1px);
      background-size: 20px 10px;
    }

    header {
      background: var(--bg-header);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 10px 20px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      position: relative;
      z-index: 1000;
      border-bottom: 2px solid var(--accent-color);
    }

    .logo-container {
      display: flex;
      align-items: center;
      text-align: center;
    }

    header img {
      
      height: 150px;
      margin-right: 15px;
      transition: transform 0.3s ease;
    }

    header img:hover {
      transform: scale(1.05);
    }

    .logo-text {
      color: var(--text-primary);
    }

    .logo-text h1 {
      font-size: 2.4rem;
      margin: 0;
      font-weight: 700;
      color: var(--accent-color);
      text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
    }

    .logo-text p {
      font-size: 1.2rem;
      margin: 5px 0 0 0;
      opacity: 0.9;
    }

    /* Bot√≥n hamburguesa */
    .hamburger {
      display: none;
      flex-direction: column;
      background: none;
      border: none;
      cursor: pointer;
      padding: 5px;
      z-index: 1101;
      position: absolute;
      right: 20px;
    }

    .hamburger span {
      display: block;
      width: 25px;
      height: 3px;
      background-color: var(--accent-color);
      margin: 3px 0;
      transition: 0.3s;
      border-radius: 2px;
    }

    /* Men√∫ de navegaci√≥n */
    nav {
      background: var(--bg-nav);
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      align-items: stretch;
      transition: all 0.3s ease;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      border-bottom: 1px solid var(--line-color);
    }

    nav a {
      color: var(--text-primary);
      padding: 15px 20px;
      text-decoration: none;
      font-size: 1rem;
      transition: 0.3s;
      cursor: pointer;
      font-weight: 500;
      display: flex;
      align-items: center;
      border-right: 1px solid var(--line-color);
      position: relative;
      overflow: hidden;
    }

    nav a:last-child {
      border-right: none;
    }

    nav a::before {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 0;
      height: 3px;
      background-color: var(--accent-color);
      transition: width 0.3s ease;
    }

    nav a:hover::before,
    nav a.active::before {
      width: 100%;
    }

    nav a:hover {
      background: var(--accent-light);
      color: var(--accent-color);
    }

    nav a.active {
      background: var(--accent-light);
      color: var(--accent-color);
      font-weight: 600;
    }

    /* Estilos para men√∫ con submen√∫s - MEJORADO */
    .menu-item {
      position: relative;
      display: flex;
      align-items: stretch;
    }

    .menu-toggle {
      position: relative;
      padding-right: 30px !important;
      display: flex;
      align-items: center;
    }

    .menu-toggle::after {
      content: "‚ñº";
      position: absolute;
      right: 15px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 0.7rem;
      transition: transform 0.3s;
    }

    .menu-item.active .menu-toggle::after {
      transform: translateY(-50%) rotate(180deg);
    }

    .submenu {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      background: var(--submenu-bg);
      min-width: 220px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.15);
      z-index: 1000;
      border: 1px solid var(--line-color);
      border-top: none;
      border-radius: 0 0 8px 8px;
      overflow: hidden;
    }

    .menu-item.active .submenu {
      display: block;
      animation: fadeIn 0.3s ease;
    }

    .submenu a {
      display: block;
      padding: 12px 20px;
      border-bottom: 1px solid var(--line-color);
      white-space: nowrap;
      border-right: none;
      transition: all 0.2s ease;
    }

    .submenu a:last-child {
      border-bottom: none;
    }

    .submenu a:hover {
      padding-left: 25px;
      background: var(--accent-light);
    }

    /* Men√∫ m√≥vil flotante - MEJORADO */
    .mobile-menu {
      position: fixed;
      top: 0;
      left: -320px;
      width: 320px;
      height: 100vh;
      background: var(--bg-nav);
      box-shadow: 2px 0 15px rgba(0, 0, 0, 0.2);
      z-index: 1100;
      transition: left 0.3s ease;
      overflow-y: auto;
      padding-top: 80px;
      border-right: 1px solid var(--line-color);
    }

    .mobile-menu.active {
      left: 0;
    }

    /* Estilos para todos los enlaces del men√∫ m√≥vil */
    .mobile-menu a {
      display: flex;
      align-items: center;
      color: var(--text-primary);
      padding: 15px 20px;
      text-decoration: none;
      border-bottom: 1px solid rgba(var(--line-color-rgb), 0.3);
      font-size: 1rem;
      min-height: 50px;
      box-sizing: border-box;
      transition: all 0.3s ease;
      width: 100%;
    }

    .mobile-menu a:hover {
      background: rgba(var(--accent-light-rgb), 0.3);
      color: var(--accent-color);
    }

    /* Items principales que tienen submen√∫ */
    .mobile-menu .menu-item > .menu-toggle {
      position: relative;
      padding-right: 50px;
      background: rgba(var(--bg-primary-rgb), 0.1);
      font-weight: 600;
    }

    .mobile-menu .menu-item > .menu-toggle::after {
      content: "‚ñ∂";
      position: absolute;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 0.8rem;
      transition: transform 0.3s ease;
      color: var(--accent-color);
    }

    .mobile-menu .menu-item.active > .menu-toggle::after {
      transform: translateY(-50%) rotate(90deg);
    }

    .mobile-menu .menu-item.active > .menu-toggle {
      background: rgba(var(--accent-light-rgb), 0.4);
      color: var(--accent-color);
    }

    /* Estilos para submen√∫s desplegables - MEJORADO */
    .mobile-menu .submenu {
      display: none;
      background: var(--submenu-bg);
      border-left: 3px solid var(--accent-color);
      animation: slideDown 0.3s ease-out;
    }

    .mobile-menu .menu-item.active .submenu {
      display: block;
    }

    /* Enlaces dentro del submen√∫ */
    .mobile-menu .submenu a {
      padding-left: 40px;
      font-size: 0.95rem;
      min-height: 45px;
      background: transparent;
      border-bottom: 1px solid rgba(var(--line-color-rgb), 0.2);
      color: var(--text-secondary);
    }

    .mobile-menu .submenu a:hover {
      background: rgba(var(--accent-light-rgb), 0.2);
      color: var(--accent-color);
      padding-left: 45px;
    }

    .mobile-menu .submenu a:last-child {
      border-bottom: none;
    }

    /* Animaciones */
    @keyframes slideDown {
      from {
        opacity: 0;
        max-height: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        max-height: 500px;
        transform: translateY(0);
      }
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(-5px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.05);
      }
      100% {
        transform: scale(1);
      }
    }

    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--overlay);
      z-index: 1099;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease;
    }

    .overlay.active {
      opacity: 1;
      visibility: visible;
    }

    .container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 25px;
      padding: 30px 20px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .article {
      background: var(--bg-secondary);
      border-radius: 12px;
      overflow: hidden;
      box-shadow: var(--card-shadow);
      transition: transform 0.3s, box-shadow 0.3s;
      border: 1px solid var(--border-color);
      position: relative;
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.5s ease forwards;
    }

    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .article:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
    }

    .article img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      transition: transform 0.5s ease;
    }

    .article:hover img {
      transform: scale(1.05);
    }

    .article-content {
      padding: 20px;
    }

    .article h2 {
      color: var(--accent-color);
      font-size: 1.3rem;
      margin: 0 0 8px;
      line-height: 1.3;
    }

    .article h3 {
      font-size: 1rem;
      color: var(--text-secondary);
      margin-top: 0;
      margin-bottom: 15px;
      font-weight: 500;
    }

    .article p {
      font-size: 0.95rem;
      line-height: 1.6;
      color: var(--text-primary);
    }

    /* Bot√≥n de suscripci√≥n fijo */
    .fixed-subscribe {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
    }

    .fixed-subscribe-btn {
      background: var(--accent-color);
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 25px;
      font-size: 0.9rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .fixed-subscribe-btn:hover {
      background: #1b5e20;
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(0,0,0,0.2);
      animation: pulse 1s infinite;
    }

    .fixed-subscribe-btn:before {
      content: "üîî";
      font-size: 1.1rem;
    }

    .fixed-subscribe-btn.subscribed {
      background: #4caf50;
    }

    .fixed-subscribe-btn.subscribed:before {
      content: "‚úÖ";
    }

    @media (max-width: 768px) {
      .fixed-subscribe {
        bottom: 15px;
        right: 15px;
      }
      
      .fixed-subscribe-btn {
        padding: 10px 16px;
        font-size: 0.8rem;
      }
    }

    footer {
      background: var(--bg-header);
      color: var(--text-secondary);
      text-align: center;
      padding: 25px 20px;
      font-size: 0.9rem;
      margin-top: 40px;
      border-top: 2px solid var(--accent-color);
    }

    .theme-toggle {
      display: inline-block;
      margin-top: 15px;
      padding: 8px 16px;
      background: var(--accent-color);
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: background 0.3s;
    }

    .theme-toggle:hover {
      background: #1b5e20;
    }

    /* Estilos para contenido cargado */
    .content-section {
      max-width: 1000px;
      margin: 0 auto;
      padding: 30px 20px;
      background: var(--bg-secondary);
      border-radius: 12px;
      box-shadow: var(--card-shadow);
      border: 1px solid var(--border-color);
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.5s ease forwards;
    }

    .content-section h2 {
      color: var(--accent-color);
      border-bottom: 2px solid var(--accent-light);
      padding-bottom: 10px;
      margin-top: 0;
      margin-bottom: 25px;
      font-size: 1.8rem;
    }

    .content-section h3 {
      color: var(--accent-color);
      margin-top: 30px;
      margin-bottom: 15px;
      font-size: 1.3rem;
    }

    .content-section p {
      line-height: 1.7;
      margin-bottom: 20px;
      font-size: 1.05rem;
      color: var(--text-primary);
    }

    .content-section ul, .content-section ol {
      padding-left: 25px;
      margin-bottom: 25px;
    }

    .content-section li {
      margin-bottom: 10px;
      font-size: 1.05rem;
      color: var(--text-primary);
    }

    .content-section .highlight {
      background: var(--accent-light);
      padding: 20px;
      border-left: 4px solid var(--accent-color);
      margin: 25px 0;
      border-radius: 0 8px 8px 0;
    }

    .content-section .highlight p {
      margin: 0;
      color: var(--text-primary);
    }

    .content-section .highlight strong {
      color: var(--accent-color);
    }

    /* Modal de suscripci√≥n */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 1100;
      align-items: center;
      justify-content: center;
    }

    .modal.active {
      display: flex;
    }

    .modal-content {
      background: var(--bg-primary);
      padding: 30px;
      border-radius: 12px;
      max-width: 500px;
      width: 90%;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      text-align: center;
      animation: fadeIn 0.3s ease;
    }

    .modal h2 {
      color: var(--accent-color);
      margin-top: 0;
    }

    .modal p {
      margin-bottom: 20px;
    }

    .modal-buttons {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 20px;
    }

    .modal-btn {
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      transition: background 0.3s;
    }

    .modal-btn.confirm {
      background: var(--accent-color);
      color: white;
    }

    .modal-btn.confirm:hover {
      background: #1b5e20;
    }

    .modal-btn.cancel {
      background: var(--bg-secondary);
      color: var(--text-primary);
      border: 1px solid var(--border-color);
    }

    .modal-btn.cancel:hover {
      background: var(--border-color);
    }

    /* Estilos para notificaciones */
    @keyframes slideIn {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    @keyframes slideOut {
      from {
        transform: translateX(0);
        opacity: 1;
      }
      to {
        transform: translateX(100%);
        opacity: 0;
      }
    }

    /* Indicador de carga */
    .loading-indicator {
      display: none;
      text-align: center;
      padding: 20px;
      color: var(--accent-color);
    }

    .loading-indicator.active {
      display: block;
    }

    .loading-spinner {
      display: inline-block;
      width: 40px;
      height: 40px;
      border: 4px solid rgba(46, 125, 50, 0.3);
      border-radius: 50%;
      border-top-color: var(--accent-color);
      animation: spin 1s ease-in-out infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Estilos responsivos */
    @media (max-width: 768px) {
      .logo-text h1 {
        font-size: 1.8rem;
      }
      
      .logo-text p {
        font-size: 1rem;
      }

      .hamburger {
        display: flex;
      }

      nav {
        display: none;
      }

      .mobile-menu {
        display: block;
      }
      
      header img {
        height: 100px;
      }
      
      .content-section {
        padding: 20px 15px;
      }
      
      .content-section h2 {
        font-size: 1.5rem;
      }
      
      .content-section h3 {
        font-size: 1.2rem;
      }

      .modal-content {
        padding: 20px;
      }

      .modal-buttons {
        flex-direction: column;
      }
    }

    @media (max-width: 480px) {
      header {
        padding: 10px 15px;
        flex-direction: column;
        text-align: center;
      }

      .logo-container {
        flex-direction: column;
        margin-bottom: 10px;
      }
      
      header img {
        height: 80px;
        margin-right: 0;
        margin-bottom: 10px;
      }
      
      .container {
        grid-template-columns: 1fr;
        padding: 20px 15px;
        gap: 20px;
      }
      
      .mobile-menu {
        width: 280px;
      }
    }
  </style>
</head>

<body>
  <header>
    <div class="logo-container">
      <img src="logo.png" alt="Logo Coco Querand√≠" />
      <div class="logo-text">
        <h1>Coco Querand√≠</h1>
        <p>Comunidad Cann√°bica del Oeste</p>
      </div>
    </div>
    <button class="hamburger" id="hamburger">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </header>

  <nav id="nav">
    <a href="#" data-page="index" class="active">Inicio</a>
    
    <div class="menu-item">
      <a href="#" class="menu-toggle">Cultivo</a>
      <div class="submenu">
        <a href="#" data-page="tips">Tips de Cultivo</a>
        <a href="#" data-page="tecnicas">T√©cnicas Generales</a>
        <a href="#" data-page="sustratos">Sustratos</a>
        <a href="#" data-page="nutricion">Nutrici√≥n</a>
      </div>
    </div>
    
    <div class="menu-item">
      <a href="#" class="menu-toggle">T√©cnicas</a>
      <div class="submenu">
        <a href="#" data-page="hidroponia">Hidropon√≠a</a>
        <a href="#" data-page="coco">Cultivo en Coco</a>
        <a href="#" data-page="suelo-vivo">Suelo Vivo</a>
        <a href="#" data-page="organico">Org√°nico</a>
      </div>
    </div>
    
    <div class="menu-item">
      <a href="#" class="menu-toggle">Ciencia</a>
      <div class="submenu">
        <a href="#" data-page="extracciones">Extracciones</a>
        <a href="#" data-page="derivados">Derivados</a>
        <a href="#" data-page="investigacion">Investigaci√≥n</a>
        <a href="#" data-page="analisis">An√°lisis de Cannabinoides</a>
      </div>
    </div>
    
    <div class="menu-item">
      <a href="#" class="menu-toggle">Comunidad</a>
      <div class="submenu">
        <a href="#" data-page="articulos">Art√≠culos</a>
        <a href="#" data-page="resenas">Rese√±as</a>
        <a href="#" data-page="territorio">Trabajo Territorial</a>
        <a href="#" data-page="eventos">Eventos</a>
      </div>
    </div>
    
    <div class="menu-item">
      <a href="#" class="menu-toggle">Legislaci√≥n</a>
      <div class="submenu">
        <a href="#" data-page="ley-actual">Ley Actual</a>
        <a href="#" data-page="proyectos">Proyectos</a>
        <a href="#" data-page="activismo">Activismo</a>
        <a href="#" data-page="derechos">Derechos de Usuarios</a>
      </div>
    </div>
    
    <a href="#" data-page="contacto">Contacto</a>
  </nav>

  <!-- Bot√≥n de suscripci√≥n FIJO que nunca desaparece -->
  <div class="fixed-subscribe">
    <button class="fixed-subscribe-btn" id="fixedSubscribeBtn">Suscribirse</button>
  </div>

  <!-- Men√∫ m√≥vil flotante -->
  <div class="mobile-menu" id="mobileMenu">
    <a href="#" data-page="index" class="active">Inicio</a>
    
    <div class="menu-item">
      <a href="#" class="menu-toggle">Cultivo</a>
      <div class="submenu">
        <a href="#" data-page="tips">Tips de Cultivo</a>
        <a href="#" data-page="tecnicas">T√©cnicas Generales</a>
        <a href="#" data-page="sustratos">Sustratos</a>
        <a href="#" data-page="nutricion">Nutrici√≥n</a>
      </div>
    </div>
    
    <div class="menu-item">
      <a href="#" class="menu-toggle">T√©cnicas</a>
      <div class="submenu">
        <a href="#" data-page="hidroponia">Hidropon√≠a</a>
        <a href="#" data-page="coco">Cultivo en Coco</a>
        <a href="#" data-page="suelo-vivo">Suelo Vivo</a>
        <a href="#" data-page="organico">Org√°nico</a>
      </div>
    </div>
    
    <div class="menu-item">
      <a href="#" class="menu-toggle">Ciencia</a>
      <div class="submenu">
        <a href="#" data-page="extracciones">Extracciones</a>
        <a href="#" data-page="derivados">Derivados</a>
        <a href="#" data-page="investigacion">Investigaci√≥n</a>
        <a href="#" data-page="analisis">An√°lisis de Cannabinoides</a>
      </div>
    </div>
    
    <div class="menu-item">
      <a href="#" class="menu-toggle">Comunidad</a>
      <div class="submenu">
        <a href="#" data-page="articulos">Art√≠culos</a>
        <a href="#" data-page="resenas">Rese√±as</a>
        <a href="#" data-page="territorio">Trabajo Territorial</a>
        <a href="#" data-page="eventos">Eventos</a>
      </div>
    </div>
    
    <div class="menu-item">
      <a href="#" class="menu-toggle">Legislaci√≥n</a>
      <div class="submenu">
        <a href="#" data-page="ley-actual">Ley Actual</a>
        <a href="#" data-page="proyectos">Proyectos</a>
        <a href="#" data-page="activismo">Activismo</a>
        <a href="#" data-page="derechos">Derechos de Usuarios</a>
      </div>
    </div>
    
    <a href="#" data-page="contacto">Contacto</a>
  </div>

  <div class="overlay" id="overlay"></div>

  <main id="main-content">
    <!-- SOLO contenido din√°mico aqu√≠ - sin botones de suscripci√≥n -->
    <div class="loading-indicator" id="loadingIndicator">
      <div class="loading-spinner"></div>
      <p>Cargando contenido...</p>
    </div>
    <section class="container" id="articulos">
      <p>Cargando art√≠culos...</p>
    </section>
  </main>

  <footer>
    ¬© 2025 Coco Querand√≠ - Comunidad Cann√°bica del Oeste ¬∑ Todos los derechos reservados
    <div>
      <button class="theme-toggle" id="themeToggle">Cambiar a modo oscuro</button>
    </div>
  </footer>

  <!-- Modal de suscripci√≥n -->
  <div class="modal" id="subscribeModal">
    <div class="modal-content">
      <h2>Suscribirse a Novedades</h2>
      <p>Ingresa tu email para recibir notificaciones de nuevos art√≠culos:</p>
      <input type="email" id="subscribeEmail" placeholder="tu@email.com" required style="
        width: 100%;
        padding: 12px;
        margin: 15px 0;
        border: 2px solid var(--accent-light);
        border-radius: 6px;
        font-size: 1rem;
        box-sizing: border-box;
      ">
      <div class="modal-buttons">
        <button class="modal-btn confirm" id="confirmSubscribe">Suscribirme</button>
        <button class="modal-btn cancel" id="cancelSubscribe">Cancelar</button>
      </div>
      <p style="font-size: 0.8rem; margin-top: 15px; color: var(--text-light);">
        Te enviaremos un email cuando publiquemos nuevo contenido.
      </p>
    </div>
  </div>

  <!-- Template de contenido por defecto -->
  <template id="default-content">
    <div class="content-section">
      <h2>Contenido en Desarrollo</h2>
      <p>Estamos trabajando para ofrecerte el mejor contenido sobre este tema. Mientras tanto, aqu√≠ tienes informaci√≥n general sobre nuestra comunidad:</p>
      
      <h3>Sobre Coco Querand√≠</h3>
      <p>Coco Querand√≠ es una comunidad cann√°bica ubicada en el Oeste del Gran Buenos Aires, dedicada a promover el cultivo responsable, la educaci√≥n sobre el cannabis y la defensa de los derechos de los usuarios.</p>
      
      <div class="highlight">
        <p><strong>Nuestro compromiso:</strong> Trabajamos para crear una comunidad informada, responsable y unida que pueda acceder a los beneficios del cannabis de manera segura y legal.</p>
      </div>
      
      <h3>¬øQu√© ofrecemos?</h3>
      <p>Nuestra comunidad se centra en varios pilares fundamentales:</p>
      <ul>
        <li>Educaci√≥n sobre cultivo y uso responsable del cannabis</li>
        <li>Asesoramiento legal sobre derechos y obligaciones</li>
        <li>Espacios de encuentro e intercambio entre usuarios</li>
        <li>Difusi√≥n de informaci√≥n cient√≠fica actualizada</li>
        <li>Activismo para mejorar el marco legal vigente</li>
      </ul>
      
      <p>Volveremos pronto con contenido espec√≠fico sobre este tema. ¬°Gracias por tu paciencia y inter√©s en nuestra comunidad!</p>
    </div>
  </template>

  <script>
    // Configuraci√≥n
    const CONFIG = {
      sheetId: "1GDXDXToVl_ZPtu4m82cIl4bvoFfSf-0ItFYs73VPUok",
      sheets: {
        articulos: "Articulos",
        paginas: "Paginas"
      }
    };

    // Elementos DOM
    const hamburger = document.getElementById('hamburger');
    const mobileMenu = document.getElementById('mobileMenu');
    const overlay = document.getElementById('overlay');
    const mainContent = document.getElementById('main-content');
    const navLinks = document.querySelectorAll('nav a, .mobile-menu a');
    const themeToggle = document.getElementById('themeToggle');
    const menuItems = document.querySelectorAll('.menu-item');
    const fixedSubscribeBtn = document.getElementById('fixedSubscribeBtn');
    const subscribeModal = document.getElementById('subscribeModal');
    const loadingIndicator = document.getElementById('loadingIndicator');

    // Funci√≥n para abrir/cerrar el men√∫ m√≥vil
    function toggleMobileMenu() {
      mobileMenu.classList.toggle('active');
      overlay.classList.toggle('active');
      
      const spans = hamburger.querySelectorAll('span');
      if (mobileMenu.classList.contains('active')) {
        spans[0].style.transform = 'rotate(45deg) translate(5px, 5px)';
        spans[1].style.opacity = '0';
        spans[2].style.transform = 'rotate(-45deg) translate(7px, -6px)';
        document.body.style.overflow = 'hidden';
      } else {
        spans[0].style.transform = 'none';
        spans[1].style.opacity = '1';
        spans[2].style.transform = 'none';
        document.body.style.overflow = '';
        closeAllSubmenus();
      }
    }

    hamburger.addEventListener('click', toggleMobileMenu);
    overlay.addEventListener('click', toggleMobileMenu);

    // Funci√≥n para cambiar entre modo claro y oscuro
    function toggleTheme() {
      const body = document.body;
      const isDarkMode = body.classList.contains('dark-mode');
      
      if (isDarkMode) {
        body.classList.remove('dark-mode');
        themeToggle.textContent = 'Cambiar a modo oscuro';
        localStorage.setItem('theme', 'light');
      } else {
        body.classList.add('dark-mode');
        themeToggle.textContent = 'Cambiar a modo claro';
        localStorage.setItem('theme', 'dark');
      }
    }

    themeToggle.addEventListener('click', toggleTheme);

    // Verificar preferencia guardada al cargar la p√°gina
    function checkSavedTheme() {
      const savedTheme = localStorage.getItem('theme');
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      
      if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
        document.body.classList.add('dark-mode');
        themeToggle.textContent = 'Cambiar a modo claro';
      } else {
        document.body.classList.remove('dark-mode');
        themeToggle.textContent = 'Cambiar a modo oscuro';
      }
    }

    // Funcionalidad para submen√∫s
    function setupSubmenus() {
      menuItems.forEach(item => {
        const toggle = item.querySelector('.menu-toggle');
        
        toggle.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          
          menuItems.forEach(otherItem => {
            if (otherItem !== item) {
              otherItem.classList.remove('active');
            }
          });
          
          item.classList.toggle('active');
        });
      });
    }

    // Cerrar todos los submen√∫s
    function closeAllSubmenus() {
      menuItems.forEach(item => {
        item.classList.remove('active');
      });
    }

    // Cerrar submen√∫s al hacer clic fuera
    document.addEventListener('click', () => {
      closeAllSubmenus();
    });

    // Funcionalidad de suscripci√≥n a notificaciones
    function setupSubscription() {
      fixedSubscribeBtn.addEventListener('click', () => {
        showEmailModal();
      });

      const confirmSubscribe = document.getElementById('confirmSubscribe');
      const cancelSubscribe = document.getElementById('cancelSubscribe');

      confirmSubscribe.addEventListener('click', () => {
        const email = document.getElementById('subscribeEmail').value;
        if (validateEmail(email)) {
          subscribeToNotifications(email);
        } else {
          showNotification('Por favor ingresa un email v√°lido', 'error');
        }
      });

      cancelSubscribe.addEventListener('click', () => {
        subscribeModal.classList.remove('active');
      });

      subscribeModal.addEventListener('click', (e) => {
        if (e.target === subscribeModal) {
          subscribeModal.classList.remove('active');
        }
      });
    }

    // Mostrar modal con campo de email
    function showEmailModal() {
      const emailInput = document.getElementById('subscribeEmail');
      if (emailInput) emailInput.value = '';
      
      subscribeModal.classList.add('active');
      
      setTimeout(() => {
        const emailInput = document.getElementById('subscribeEmail');
        if (emailInput) emailInput.focus();
      }, 300);
    }

    // Validar email
    function validateEmail(email) {
      const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return re.test(email);
    }

    // Suscribir a notificaciones
    function subscribeToNotifications(email) {
      const confirmBtn = document.getElementById('confirmSubscribe');
      const originalText = confirmBtn.textContent;
      confirmBtn.textContent = 'Enviando...';
      confirmBtn.disabled = true;

      const subscriptionData = {
        action: 'subscribe',
        email: email,
        userAgent: navigator.userAgent,
        timestamp: new Date().toISOString(),
        source: 'cocoquerandi_website'
      };

      fetch(SCRIPT_URL, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(subscriptionData)
      })
      .then(response => {
        if (!response.ok) {
          throw new Error('Error de red');
        }
        return response.json();
      })
      .then(data => {
        subscribeModal.classList.remove('active');
        
        if (data.success) {
          fixedSubscribeBtn.textContent = '¬°Suscrito!';
          fixedSubscribeBtn.classList.add('subscribed');
          fixedSubscribeBtn.disabled = true;
          
          showNotification('¬°Suscripci√≥n exitosa! Recibir√°s nuestras novedades por email.', 'success');
          
          if ('Notification' in window && Notification.permission === 'default') {
            Notification.requestPermission();
          }
        } else {
          showNotification(data.message || 'Error en la suscripci√≥n', 'error');
        }
      })
      .catch(error => {
        console.error('Error:', error);
        showNotification('Error de conexi√≥n. Intenta nuevamente.', 'error');
      })
      .finally(() => {
        confirmBtn.textContent = originalText;
        confirmBtn.disabled = false;
      });
    }

    // Mostrar notificaci√≥n temporal
    function showNotification(message, type = 'info') {
      const notification = document.createElement('div');
      notification.textContent = message;
      notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 15px 20px;
        border-radius: 6px;
        color: white;
        font-weight: 500;
        z-index: 10000;
        max-width: 300px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        animation: slideIn 0.3s ease;
      `;
      
      if (type === 'success') {
        notification.style.background = '#4caf50';
      } else if (type === 'error') {
        notification.style.background = '#f44336';
      } else {
        notification.style.background = '#2196f3';
      }
      
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.style.animation = 'slideOut 0.3s ease';
        setTimeout(() => {
          if (notification.parentNode) {
            notification.parentNode.removeChild(notification);
          }
        }, 300);
      }, 5000);
    }

    // Cargar art√≠culos desde Google Sheets
    function loadArticles() {
      loadingIndicator.classList.add('active');
      
      const sheetName = CONFIG.sheets.articulos;
      const url = `https://opensheet.elk.sh/${CONFIG.sheetId}/${sheetName}`;

      fetch(url)
        .then((res) => res.json())
        .then((data) => {
          const container = document.createElement('div');
          container.className = 'container';
          container.id = 'articulos';
          
          if (data && data.length > 0) {
            data.forEach((art, index) => {
              const div = document.createElement("div");
              div.className = "article";
              div.style.animationDelay = `${index * 0.1}s`;
              div.innerHTML = `
                <img src="${art.Imagen}" alt="${art.Titulo}" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZThlOGU4Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkltYWdlbiBubyBlbmNvbnRyYWRhPC90ZXh0Pjwvc3ZnPg=='">
                <div class="article-content">
                  <h2>${art.Titulo}</h2>
                  <h3>${art.Subtitulo}</h3>
                  <p>${art.Texto}</p>
                </div>
              `;
              container.appendChild(div);
            });
          } else {
            container.innerHTML = '<p>No hay art√≠culos disponibles en este momento.</p>';
          }
          
          const oldContainer = document.getElementById('articulos');
          if (oldContainer) {
            oldContainer.replaceWith(container);
          } else {
            mainContent.appendChild(container);
          }
        })
        .catch((error) => {
          console.error('Error:', error);
          const container = document.getElementById('articulos');
          if (container) {
            container.innerHTML = '<p>Error al cargar los art√≠culos. Verifica la hoja de c√°lculo.</p>';
          }
        })
        .finally(() => {
          loadingIndicator.classList.remove('active');
        });
    }

    // Cargar contenido de p√°gina desde Google Sheets
    async function loadPageContent(pageSlug) {
      loadingIndicator.classList.add('active');
      
      try {
        const sheetName = CONFIG.sheets.paginas;
        const url = `https://opensheet.elk.sh/${CONFIG.sheetId}/${sheetName}`;
        const response = await fetch(url);
        const pages = await response.json();
        
        const pageData = pages.find(p => p.Slug === pageSlug);
        
        if (pageData) {
          displayPageContent(pageData);
        } else {
          showDefaultContent(pageSlug);
        }
      } catch (error) {
        console.error('Error cargando p√°gina:', error);
        showDefaultContent(pageSlug);
      } finally {
        loadingIndicator.classList.remove('active');
      }
    }

    function displayPageContent(pageData) {
      const contentSection = document.createElement('div');
      contentSection.className = 'content-section';
      contentSection.innerHTML = `
        <h2>${pageData.Titulo}</h2>
        <div class="page-content">${pageData.Contenido}</div>
      `;
      
      // Reemplazar contenido existente
      const mainContent = document.getElementById('main-content');
      const oldContent = mainContent.querySelector('.content-section, .container');
      if (oldContent) {
        oldContent.replaceWith(contentSection);
      } else {
        mainContent.appendChild(contentSection);
      }
    }

    function showDefaultContent(pageSlug) {
      const template = document.getElementById('default-content');
      const clone = document.importNode(template.content, true);
      
      const mainContent = document.getElementById('main-content');
      const oldContent = mainContent.querySelector('.content-section, .container');
      if (oldContent) {
        oldContent.replaceWith(clone);
      } else {
        mainContent.appendChild(clone);
      }
    }

    // Cargar contenido seg√∫n la p√°gina seleccionada
    function loadContent(page) {
      navLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('data-page') === page) {
          link.classList.add('active');
        }
      });

      closeAllSubmenus();

      if (page === 'index') {
        loadArticles();
      } else {
        loadPageContent(page);
      }
    }

    // Configurar eventos para los enlaces del men√∫
    navLinks.forEach(link => {
      link.addEventListener('click', (e) => {
        if (!link.classList.contains('menu-toggle')) {
          e.preventDefault();
          const page = link.getAttribute('data-page');
          loadContent(page);
          
          if (window.innerWidth <= 768) {
            toggleMobileMenu();
          }
        }
      });
    });

    // Inicializar
    document.addEventListener('DOMContentLoaded', () => {
      loadContent('index');
      checkSavedTheme();
      setupSubmenus();
      setupSubscription();
    });
  </script>
</body>
</html>
